# 审查阶段 (Review Phase)

> 验证实现是否符合设计、规范和质量标准。

## 触发条件

- 实现阶段完成
- 所有计划任务已完成

## 输入

- 代码变更
- 测试用例
- 设计文档（如有）
- 提案文档（如有）

## 执行步骤

### 1. 自动检查

运行自动化检查：

```bash
# 测试
[test command]

# 代码规范
[lint command]

# 类型检查（如适用）
[typecheck command]

# 构建
[build command]
```

### 2. 代码审查清单

#### 正确性

- [ ] 功能符合设计/需求
- [ ] 边界情况处理正确
- [ ] 错误处理完善
- [ ] 无明显 Bug

#### 设计

- [ ] 符合项目架构规范
- [ ] 模块边界清晰
- [ ] 无过度设计
- [ ] 无重复代码

#### 可读性

- [ ] 命名清晰
- [ ] 逻辑易理解
- [ ] 注释适当（解释"为什么"）
- [ ] 代码格式一致

#### 测试

- [ ] 测试覆盖关键路径
- [ ] 测试边界情况
- [ ] 测试可读、可维护

#### 安全（如适用）

- [ ] 无敏感信息泄露
- [ ] 输入验证充分
- [ ] 权限控制正确

#### 性能（如适用）

- [ ] 无明显性能问题
- [ ] 数据库查询优化
- [ ] 无 N+1 问题

### 3. 生成审查报告

```markdown
# 代码审查报告

## 概要
- 变更：[变更描述]
- 影响文件：[N] 个
- 新增/修改/删除：[+X / ~Y / -Z] 行

## 检查结果

### ✅ 通过项
- [通过项1]
- [通过项2]

### ⚠️ 建议改进
- [建议1]
- [建议2]

### ❌ 必须修复
- [问题1]
- [问题2]

## 结论
[通过 / 需修改后通过 / 不通过]
```

## 输出

- 审查报告
- 【如有问题】修改建议

## 下一阶段

| 结果 | 下一步 |
|------|--------|
| 通过 | 完成，可合并/部署 |
| 需修改 | 返回实现阶段修复 |
| 不通过 | 返回设计/提案阶段重新评估 |

## 验证标准

- [ ] 所有自动检查通过
- [ ] 代码审查清单无阻塞项
- [ ] 无安全/性能隐患
- [ ] 符合项目质量标准

## 经验沉淀

审查完成后，考虑：

1. 是否有可复用的模式？→ 添加到规范
2. 是否踩了坑？→ 添加到经验索引
3. 是否发现了工具/流程改进点？→ 记录 TODO
